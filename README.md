# Бот для рассылки новостей команды Boston Celtics
Этот бот ежедневно выводит новости тем кто подписаны на рассылку! 
Пользователи могут подписаться или отписаться от рассылки.

## Что надо знать 
* Python
* aiogram
* SQLAlchemy
* BeautifulSoup
* PostgreSQL
* Docker(docker-compose)

## Как работать с проектом
1. Прежде всего установите зависимости с командой `pip install -r requirements.txt`
2. Создайте и настройте файл .env в корневом каталоге с переменными 
3. ```
   BOTS_TOKEN - токен бота,
   DATABASE_URL - URL до БД
   ADMIN_ID - идентификатор админа(или chat_id админа) 
   **ВНИМАНИЕ!** когда запускаете проект в Docker не забудьте менять хост с `localhost` на db (имя хоста контейнера для БД в файле docker-compose)
   ```
4. Создайте моделей в БД с помощью команды `
   alembic upgrade head
   `
5. Просто запускайте файл `run.py` и наслаждайтесь)

## Справка по Alembic
* Чтобы создать миграции просто пишите `alembic revision --autogenerate -m 'Название миграции'`
* Чтобы их применить пишите `alembic upgrade head`

## Работа с Docker 
1. Для развёртывания проекта на Docker сначала наберите команду `docker compose build`
2. После наберите команду `Docker compose up` и заменит хост с localhost на bd
3. Войдите в баш консоль контейнера для api с командой `docker exec -it container_name bash`
4. Внутри консоли наберите команду `python database/models.py` чтобы создать таблицу в БД
5. Просто выйдите из консоли и наслаждайтесь ботом)
